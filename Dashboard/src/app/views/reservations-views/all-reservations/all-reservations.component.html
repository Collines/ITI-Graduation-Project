<c-row class="justify-content-md-center mb-4">
  <c-col [sm]="10">
    <div class="input-group">
      <input
        type="date"
        class="form-control app-search"
        placeholder="Search By Department or Name"
        (change)="FilterByDate($event)"
      />
    </div>
  </c-col>
</c-row>

<table class="table align-middle mb-0 bg-white">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Date</th>
        <th>Queue</th>
        <th>Patient Data</th>
        <th>Doctor Data</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of SearchResult">
        <td>
          <p>{{r.id}}</p>
        </td>
        <td>
          <p>{{r.dateTime | date:'MMMM d, y'}}</p>
        </td>
        <td>
          <p>{{r.queue}}</p>
        </td>
        <td>
          <a class="nav-link active" routerLink="/Patients/{{r.patientId}}" title="Patient Details">
            <p class="fw-normal mb-1">{{r.patient.email}}</p>
            <p class="text-muted mb-0">{{r.patient.phoneNumber}}</p>
          </a>
        </td>
        <td>
          <a class="nav-link" routerLink="/Doctors/{{r.doctorId}}" title="Doctor Details">
            <p class="fw-normal mb-1">{{r.doctor.firstName+" "+r.doctor.lastName}}</p>
            <p class="text-muted mb-0">{{r.doctor.departmentTitle}}</p>
          </a>
        </td>
        <td>
          <!-- <p><span class="badge rounded-pill" [ngClass]="{
            'text-bg-warning':r.status === ReservationStatus.ToVisit,
            'text-bg-success':r.status === ReservationStatus.Visited,
            'text-bg-danger text-light':r.status === ReservationStatus.Cancelled
          }">{{ReservationStatus[r.status]}}</span></p> -->

          <!-- <div class="form-check">
            <input class="form-check-input" type="radio" name="reservation{{r.id}}" id="reservation{{r.id}}" value="{{ReservationStatus.ToVisit}}" checked>
            <span class="badge text-bg-warning">{{ReservationStatus[ReservationStatus.ToVisit]}}</span>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="reservation{{r.id}}" id="reservation{{r.id}}" value="{{ReservationStatus.Visited}}">
            <span class="badge text-bg-success">{{ReservationStatus[ReservationStatus.Visited]}}</span>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="reservation{{r.id}}" id="reservation{{r.id}}" value="{{ReservationStatus.Cancelled}}">
            <span class="badge text-bg-danger text-light">{{ReservationStatus[ReservationStatus.Cancelled]}}</span>
          </div> -->

          <select #status [selectedIndex]="r.status-1" class="form-select" [ngClass]="{
            'text-bg-warning':status.value == ReservationStatus.ToVisit.toString(),
            'text-bg-success':status.value == ReservationStatus.Visited.toString(),
            'text-bg-danger text-light':status.value == ReservationStatus.Cancelled.toString()}"

            name="status" id="status{{r.id}}" aria-label="status" (change)="ChangeReservationStatus($event,r.id)">
            <option class="text-bg-warning" value="{{ReservationStatus.ToVisit}}">{{ReservationStatus[ReservationStatus.ToVisit]}}</option>
            <option class="text-bg-success" value="{{ReservationStatus.Visited}}">{{ReservationStatus[ReservationStatus.Visited]}}</option>
            <option class="text-bg-danger text-light" value="{{ReservationStatus.Cancelled}}">{{ReservationStatus[ReservationStatus.Cancelled]}}</option>
        </select>

        </td>
      </tr>
    </tbody>
</table>
